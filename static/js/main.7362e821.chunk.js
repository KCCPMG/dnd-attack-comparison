(this["webpackJsonpdnd-attack-comparison"]=this["webpackJsonpdnd-attack-comparison"]||[]).push([[0],{12:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return averageResult})),__webpack_require__.d(__webpack_exports__,"b",(function(){return averageResultFromRollObj})),__webpack_require__.d(__webpack_exports__,"c",(function(){return critDamage})),__webpack_require__.d(__webpack_exports__,"d",(function(){return totalCritRollResultObj})),__webpack_require__.d(__webpack_exports__,"e",(function(){return totalRollResultObj}));var C_Users_Connor_Desktop_Code_DND_Attack_Comparison_dnd_attack_comparison_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9),C_Users_Connor_Desktop_Code_DND_Attack_Comparison_dnd_attack_comparison_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),C_Users_Connor_Desktop_Code_DND_Attack_Comparison_dnd_attack_comparison_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(19);function averageResult(e){var t=e.length;return e.reduce((function(e,t){return e+t}),0)/t}function averageResultFromRollObj(e){for(var t=Object.values(e).reduce((function(e,t){return e+t})),a=0,r=0,n=Object.keys(e);r<n.length;r++){var c=n[r];a+=c*e[c]}return a/t}function combineResultObjects(e,t){for(var a=Math.min.apply(Math,Object(C_Users_Connor_Desktop_Code_DND_Attack_Comparison_dnd_attack_comparison_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.a)(Object.keys(e))),r=Math.min.apply(Math,Object(C_Users_Connor_Desktop_Code_DND_Attack_Comparison_dnd_attack_comparison_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.a)(Object.keys(t))),n=Math.max.apply(Math,Object(C_Users_Connor_Desktop_Code_DND_Attack_Comparison_dnd_attack_comparison_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.a)(Object.keys(e)))+Math.max.apply(Math,Object(C_Users_Connor_Desktop_Code_DND_Attack_Comparison_dnd_attack_comparison_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.a)(Object.keys(t))),c={},o=a+r;o<=n;o++)c[o]=0;for(var l=0,s=Object.keys(e);l<s.length;l++)for(var i=s[l],d=0,_=Object.keys(t);d<_.length;d++){var m=_[d],u=Number(i)+Number(m),p=Number(e[i])*Number(t[m]);c[u]+=p}return c}function critDamage(totalRoll){var normalMax=eval(totalRoll.replace(/d/gi,"*")),components=splitRoll(totalRoll),newComponents=[],_iterator=Object(C_Users_Connor_Desktop_Code_DND_Attack_Comparison_dnd_attack_comparison_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_1__.a)(components),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var component=_step.value;if(component.match(/d/i)){var _component$split=component.split(/d/i),_component$split2=Object(C_Users_Connor_Desktop_Code_DND_Attack_Comparison_dnd_attack_comparison_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_component$split,2),dice=_component$split2[0],dieSize=_component$split2[1];dice=Number(dice),newComponents.push(2*dice+"d"+dieSize)}else newComponents.push(component)}}catch(err){_iterator.e(err)}finally{_iterator.f()}var newRollStr=newComponents.join("+"),critArray=createDiceArray(newRollStr);return critArray=critArray.map((function(e){return e>=normalMax?e:normalMax})),critArray}function critRollString(e){var t=e.split(/\+/g);for(var a in t)if(t[a].match(/d/gi)){var r=t[a].split(/d/gi),n=Object(C_Users_Connor_Desktop_Code_DND_Attack_Comparison_dnd_attack_comparison_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(r,2),c=n[0],o=n[1],l="".concat(c*=2,"d").concat(o);t.splice(a,1,l)}return t.join("+")}function createDiceArray(e){var t,a=splitRoll(e),r=[],n=Object(C_Users_Connor_Desktop_Code_DND_Attack_Comparison_dnd_attack_comparison_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_1__.a)(a);try{for(n.s();!(t=n.n()).done;){var c=t.value;if(c.match(/d/i)){var o=c.split(/d/i),l=Object(C_Users_Connor_Desktop_Code_DND_Attack_Comparison_dnd_attack_comparison_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(o,2),s=l[0],i=l[1];s=Number(s),i=Number(i);for(var d=0;d<s;d++){for(var _=[],m=1;m<=i;m++)_.push(m);r.push(_)}}else r.push([Number(c[0])])}}catch(N){n.e(N)}finally{n.f()}for(var u=[],p=0,h=r;p<h.length;p++){var k=h[p];if(0===u.length){var f,b=Object(C_Users_Connor_Desktop_Code_DND_Attack_Comparison_dnd_attack_comparison_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_1__.a)(k);try{for(b.s();!(f=b.n()).done;){var A=f.value;u.push(A)}}catch(N){b.e(N)}finally{b.f()}}else{var E,v=[],C=Object(C_Users_Connor_Desktop_Code_DND_Attack_Comparison_dnd_attack_comparison_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_1__.a)(u);try{for(C.s();!(E=C.n()).done;){var D,g=E.value,M=Object(C_Users_Connor_Desktop_Code_DND_Attack_Comparison_dnd_attack_comparison_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_1__.a)(k);try{for(M.s();!(D=M.n()).done;){var O=D.value;v.push(g+O)}}catch(N){M.e(N)}finally{M.f()}}}catch(N){C.e(N)}finally{C.f()}u=v}}return u}function minResult(e){return Math.min.apply(Math,Object(C_Users_Connor_Desktop_Code_DND_Attack_Comparison_dnd_attack_comparison_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.a)(e))}function maxResult(e){return Math.max.apply(Math,Object(C_Users_Connor_Desktop_Code_DND_Attack_Comparison_dnd_attack_comparison_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.a)(e))}function rollResultObj(e){var t=e.split(/d/gi),a=Object(C_Users_Connor_Desktop_Code_DND_Attack_Comparison_dnd_attack_comparison_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(t,2),r=a[0],n=a[1];if(void 0===n){var c={};return c[r]=1,c}if(r>4)return combineResultObjects(rollResultObj("4d".concat(n)),rollResultObj("".concat(r-4,"d").concat(n)));for(var o={},l=r;l<=r*n;l++)o[l]=0;var s,i=createDiceArray(e),d=Object(C_Users_Connor_Desktop_Code_DND_Attack_Comparison_dnd_attack_comparison_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_1__.a)(i);try{for(d.s();!(s=d.n()).done;){o[s.value]+=1}}catch(_){d.e(_)}finally{d.f()}return o}function rollResultObjPercentage(e){for(var t=rollResultObj(e),a=Object.values(t).reduce((function(e,t){return e+t})),r=0,n=Object.keys(t);r<n.length;r++){var c=n[r];t[c]=t[c]/a}return t}function splitRoll(e){return console.log(e),console.log(typeof e),e.replace(/ +/g,"").split(/\+/)}function totalCritRollResultObj(totalRoll){var components=totalRoll.split(/\+/g);for(var i in components)if(components[i].match(/d/gi)){var _components$i$split3=components[i].split(/d/gi),_components$i$split4=Object(C_Users_Connor_Desktop_Code_DND_Attack_Comparison_dnd_attack_comparison_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_components$i$split3,2),dice=_components$i$split4[0],dieSize=_components$i$split4[1];dice*=2;var newComponent="".concat(dice,"d").concat(dieSize);components.splice(i,1,newComponent)}for(var critRollString=components.join("+"),maxStandardRoll=eval(totalRoll.replace(/d/gi,"*")),rollObj=totalRollResultObj(critRollString),_i6=Math.min.apply(Math,Object(C_Users_Connor_Desktop_Code_DND_Attack_Comparison_dnd_attack_comparison_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.a)(Object.keys(rollObj)));_i6<maxStandardRoll;_i6++)rollObj[maxStandardRoll]+=rollObj[_i6],rollObj[_i6]=0;return rollObj}function totalRollResultObj(e){var t=e.split(/\+/g);for(var a in t)t.splice(a,1,rollResultObj(t[a]));return t.reduce((function(e,t){return combineResultObjects(e,t)}))}},193:function(e,t,a){},194:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(10),o=a.n(c),l=(a(95),a(7)),s=a(25),i=a(26),d=a(31),_=a(30),m=a(202),u=a(203),p=a(200),h=a(83),k=a(204),f=a(9),b=a(64),A=a(199),E=a(205),v=a(201),C=new RegExp(/^(\d{1,2}d\d{1,2})(\+\d{1,2}d\d{1,2})*([-+]\d{1,2})*$/i),D=function(e){Object(d.a)(a,e);var t=Object(_.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).setExpanded=function(e){r.setState({expanded:e})},r.setShowDeleteCharacterModal=function(e){r.setState({showDeleteCharacterModal:e})},r.hide=function(){r.setState({showDeleteCharacterModal:!1})},r.setAttackToEdit=function(e){r.setState({attackToEdit:e})},r.setShowAttackModal=function(e){r.setState({showAttackModal:e})},r.state={expanded:!1,showDeleteCharacterModal:!1,attackToEdit:null,showAttackModal:!1,test:0},r}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=n.a.createElement("svg",{height:"20",viewBox:"0 0 16 16",className:"bi bi-pencil-square",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",onClick:function(){e.props.editCharacter(e.props.char.id)}},n.a.createElement("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),n.a.createElement("path",{fillRule:"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"})),a=n.a.createElement("svg",{onClick:function(){e.setState({expanded:!0})},width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-chevron-down",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{fillRule:"evenodd",d:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"})),r=n.a.createElement("svg",{onClick:function(){e.setState({expanded:!1})},width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-chevron-up",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{fillRule:"evenodd",d:"M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z"})),c=n.a.createElement("svg",{onClick:function(t){t.preventDefault(),e.setState({showDeleteCharacterModal:!0})},width:"1em",height:"1em",viewBox:"0 0 16 16",className:"",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{fillRule:"evenodd",d:"M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}),n.a.createElement("path",{fillRule:"evenodd",d:"M5.23 5.146a.5.5 0 0 0 0 .708l5 5a.5.5 0 0 0 .707-.708l-5-5a.5.5 0 0 0-.708 0z"}),n.a.createElement("path",{fillRule:"evenodd",d:"M10.937 5.146a.5.5 0 0 1 0 .708l-5 5a.5.5 0 0 1-.708-.708l5-5a.5.5 0 0 1 .707 0z"})),o=n.a.createElement(m.a,{centered:!0,onHide:this.hide,show:this.state.showDeleteCharacterModal},n.a.createElement(m.a.Header,{closeButton:!0},n.a.createElement(m.a.Title,null,"Delete Character")),n.a.createElement(A.a,null,n.a.createElement("h3",{style:{overflowWrap:"break-word"}},"Are you sure you want to delete ",this.props.char.name,"?"),n.a.createElement("br",null),n.a.createElement(p.a,{className:"justify-content-around"},n.a.createElement("button",{className:"btn btn-outline-dark",onClick:function(){e.props.handleDeleteCharacter(e.props.char.id)}},n.a.createElement("h3",null,"Yes")),n.a.createElement("button",{className:"btn btn-outline-dark",onClick:function(t){e.setState({showDeleteCharacterModal:!1}),t.stopPropagation()}},n.a.createElement("h3",null,"No"))),n.a.createElement("br",null)));return n.a.createElement(A.a,{className:"character-bar"},n.a.createElement(p.a,{className:"character-bar-heading"},n.a.createElement(h.a,{className:"character-name"},this.props.char.name),n.a.createElement(h.a,{xs:"7",sm:"4",md:"3",lg:"3",xl:"2",className:"expand-toggle ml-auto mr-0 justify-content-between"},n.a.createElement(p.a,null,n.a.createElement(h.a,null,this.state.expanded?r:a),n.a.createElement(h.a,null,t),n.a.createElement(h.a,null,c,o)))),this.state.expanded?n.a.createElement("h5",{style:{textAlign:"center"}}," \u2015Attacks\u2015 "):"",this.state.expanded?this.props.char.attacks.map((function(t){return n.a.createElement(N,{attack:t,key:t.attackId,changeComparison:e.props.changeComparison,setAttackToEdit:e.setAttackToEdit,setShowAttackModal:e.setShowAttackModal,handleDeleteAttack:e.props.handleDeleteAttack})})):"",this.state.expanded?n.a.createElement(g,{handleAddAttack:this.props.handleAddAttack,handleEditAttack:this.props.handleEditAttack,char:this.props.char,setExpanded:this.setExpanded,attackToEdit:this.state.attackToEdit,showAttackModal:this.state.showAttackModal,setAttackToEdit:this.setAttackToEdit,setShowAttackModal:this.setShowAttackModal}):"")}}]),a}(n.a.Component),g=function(e){Object(d.a)(a,e);var t=Object(_.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement(A.a,{className:"add-attack"},n.a.createElement("div",{className:"add-attack-button-div text-center"},n.a.createElement("button",{className:"btn btn-outline-dark add-attack-button",onClick:function(){e.props.setShowAttackModal(!0)}},n.a.createElement("h5",null,"+ Add Attack +")),n.a.createElement("br",null)),n.a.createElement(M,{showAttackModal:this.props.showAttackModal,hideAttackModal:function(){e.props.setShowAttackModal(!1)},char:this.props.char,handleAddAttack:this.props.handleAddAttack,attackToEdit:this.props.attackToEdit,setAttackToEdit:this.props.setAttackToEdit,handleEditAttack:this.props.handleEditAttack}))}}]),a}(n.a.Component),M=function(e){Object(d.a)(a,e);var t=Object(_.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).updateDamage=function(e,t){var a,n=JSON.parse(JSON.stringify(r.state.errors)),c=t.replace(/ /g,"");c.length>0&&!Boolean(c.match(C))?n.includes(e)||n.push(e):n=n.filter((function(t){return t!==e})),r.setState((a={},Object(b.a)(a,e,t),Object(b.a)(a,"errors",n),a))},r.clearForm=function(){r.setState({attackId:null,attackName:"",firstAttackModifier:"",firstAttackDamage:"",secondAttackModifier:"",secondAttackDamage:"",thirdAttackModifier:"",thirdAttackDamage:"",fourthAttackModifier:"",fourthAttackDamage:"",errors:[]},r.props.setAttackToEdit(null))},r.state={attackName:"",firstAttackModifier:"",firstAttackDamage:"",secondAttackModifier:"",secondAttackDamage:"",thirdAttackModifier:"",thirdAttackDamage:"",fourthAttackModifier:"",fourthAttackDamage:"",errors:[]},r}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement(m.a,{show:this.props.showAttackModal,centered:!0,size:"lg",onHide:function(){e.clearForm(),e.props.hideAttackModal()}},n.a.createElement(m.a.Header,{closeButton:!0},n.a.createElement(m.a.Title,null,"Add Attack - ",this.props.char.name)),n.a.createElement("br",null),n.a.createElement(A.a,null,n.a.createElement(u.a,null,n.a.createElement(u.a.Group,{as:A.a},n.a.createElement(p.a,null,n.a.createElement(u.a.Label,{as:h.a},"Attack Name"),n.a.createElement(h.a,null,n.a.createElement(u.a.Control,{type:"text",name:"AttackName",required:!0,autoComplete:"off",placeholder:"Attack Name",value:this.state.attackName,onChange:function(t){e.setState({attackName:t.target.value})}}))),n.a.createElement(p.a,null,"First Attack"),n.a.createElement(p.a,null,n.a.createElement(u.a.Label,{as:O},"Attack Modifier"),n.a.createElement(O,null,n.a.createElement(u.a.Control,{type:"number",name:"FirstAttackModifier",autoComplete:"off",placeholder:"Ex: 3",value:this.state.firstAttackModifier,onChange:function(t){e.setState({firstAttackModifier:t.target.value})}})),n.a.createElement(u.a.Label,{as:O},"Damage Dice"),n.a.createElement(O,null,n.a.createElement(u.a.Control,{type:"text",name:"FirstAttackDamage",className:this.state.errors.includes("firstAttackDamage")?"is-invalid":"",autoComplete:"off",placeholder:"Ex: 2d8 + 1d4 + 5",value:this.state.firstAttackDamage,onChange:function(t){e.updateDamage("firstAttackDamage",t.target.value)}}))),n.a.createElement(p.a,null,"Second Attack"),n.a.createElement(p.a,null,n.a.createElement(u.a.Label,{as:O},"Attack Modifier"),n.a.createElement(O,null,n.a.createElement(u.a.Control,{type:"number",name:"SecondAttackModifier",autoComplete:"off",placeholder:"Ex: 3",value:this.state.secondAttackModifier,onChange:function(t){e.setState({secondAttackModifier:t.target.value})}})),n.a.createElement(u.a.Label,{as:O},"Damage Dice"),n.a.createElement(O,null,n.a.createElement(u.a.Control,{type:"text",name:"SecondAttackDamage",className:this.state.errors.includes("secondAttackDamage")?"is-invalid":"",autoComplete:"off",placeholder:"Ex: 2d8 + 1d4 + 5",value:this.state.secondAttackDamage,onChange:function(t){e.updateDamage("secondAttackDamage",t.target.value)}}))),n.a.createElement(p.a,null,"Third Attack"),n.a.createElement(p.a,null,n.a.createElement(u.a.Label,{as:O},"Attack Modifier"),n.a.createElement(O,null,n.a.createElement(u.a.Control,{type:"number",name:"ThirdAttackModifier",autoComplete:"off",placeholder:"Ex: 3",value:this.state.thirdAttackModifier,onChange:function(t){e.setState({thirdAttackModifier:t.target.value})}})),n.a.createElement(u.a.Label,{as:O},"Damage Dice"),n.a.createElement(O,null,n.a.createElement(u.a.Control,{type:"text",name:"ThirdAttackDamage",className:this.state.errors.includes("thirdAttackDamage")?"is-invalid":"",autoComplete:"off",placeholder:"Ex: 2d8 + 1d4 + 5",value:this.state.thirdAttackDamage,onChange:function(t){e.updateDamage("thirdAttackDamage",t.target.value)}}))),n.a.createElement(p.a,null,"Fourth Attack"),n.a.createElement(p.a,null,n.a.createElement(u.a.Label,{as:O},"Attack Modifier"),n.a.createElement(O,null,n.a.createElement(u.a.Control,{type:"number",name:"fourthAttackModifier",autoComplete:"off",placeholder:"Ex: 3",value:this.state.fourthAttackModifier,onChange:function(t){e.setState({fourthAttackModifier:t.target.value})}})),n.a.createElement(u.a.Label,{as:O},"Damage Dice"),n.a.createElement(O,null,n.a.createElement(u.a.Control,{type:"text",name:"FourthAttackDamage",className:this.state.errors.includes("fourthAttackDamage")?"is-invalid":"",autoComplete:"off",placeholder:"Ex: 2d8 + 1d4 + 5",value:this.state.fourthAttackDamage,onChange:function(t){e.updateDamage("fourthAttackDamage",t.target.value)}}))),n.a.createElement("br",null),n.a.createElement(p.a,{className:"justify-content-md-center"},n.a.createElement(h.a,{className:"text-center"},0===this.state.errors.length?n.a.createElement("button",{className:"btn btn-outline-dark",onClick:function(t){t.preventDefault();var a=e.state,r=a.attackName,n=a.firstAttackModifier,c=a.firstAttackDamage,o=a.secondAttackModifier,l=a.secondAttackDamage,s=a.thirdAttackModifier,i=a.thirdAttackDamage,d=a.fourthAttackModifier,_=a.fourthAttackDamage;t.formData={charId:e.props.char.id,attackName:r,firstAttackModifier:n,firstAttackDamage:c,secondAttackModifier:o,secondAttackDamage:l,thirdAttackModifier:s,thirdAttackDamage:i,fourthAttackModifier:d,fourthAttackDamage:_},e.state.attackId?(t.formData.attackId=e.state.attackId,e.props.handleEditAttack(t)):e.props.handleAddAttack(t),e.clearForm(),e.props.hideAttackModal()}},this.state.attackId?"Update":"Add"," Attack"):null,n.a.createElement("br",null)))))))}},{key:"componentDidUpdate",value:function(e,t,a){var r,n,c,o,l,s,i,d,_=Object.assign({},e.attackToEdit),m=Object.assign({},this.props.attackToEdit);JSON.stringify(_)!==JSON.stringify(m)&&this.setState({attackId:m.attackId,attackName:m.attackName,firstAttackModifier:null===(r=m.firstAttack)||void 0===r?void 0:r.modifier,firstAttackDamage:null===(n=m.firstAttack)||void 0===n?void 0:n.damage,secondAttackModifier:null===(c=m.secondAttack)||void 0===c?void 0:c.modifier,secondAttackDamage:null===(o=m.secondAttack)||void 0===o?void 0:o.damage,thirdAttackModifier:null===(l=m.thirdAttack)||void 0===l?void 0:l.modifier,thirdAttackDamage:null===(s=m.thirdAttack)||void 0===s?void 0:s.damage,fourthAttackModifier:null===(i=m.fourthAttack)||void 0===i?void 0:i.modifier,fourthAttackDamage:null===(d=m.fourthAttack)||void 0===d?void 0:d.damage})}}]),a}(n.a.Component);function O(e){return n.a.createElement(h.a,{sm:5,md:3,lg:3},e.children)}function N(e){var t,a,c,o,l,s,i,d,_=this,u=Object(r.useState)(!1),k=Object(f.a)(u,2),b=k[0],C=k[1],D=Object(r.useState)(!1),g=Object(f.a)(D,2),M=g[0],O=g[1],N=Object(r.useState)(!1),y=Object(f.a)(N,2),w=y[0],j=y[1],x=Object(r.useState)(!1),S=Object(f.a)(x,2),R=S[0],I=S[1],T=Object(r.useRef)(null),P=Object(r.useRef)(null),U=Object(r.useRef)(null),L=e.attack,B=n.a.createElement("svg",{className:"bi bi-pencil-square attack-control",height:"16",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",onClick:function(){e.setAttackToEdit(e.attack),e.setShowAttackModal(!0)},onMouseEnter:function(){O(!M)},onMouseLeave:function(){O(!M)},ref:P},n.a.createElement("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),n.a.createElement("path",{fillRule:"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"})),F=n.a.createElement("svg",{className:"attack-control",onClick:function(e){e.preventDefault(),I(!0)},height:"16",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",onMouseEnter:function(){j(!w)},onMouseLeave:function(){j(!w)},ref:U},n.a.createElement("path",{fillRule:"evenodd",d:"M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}),n.a.createElement("path",{fillRule:"evenodd",d:"M5.23 5.146a.5.5 0 0 0 0 .708l5 5a.5.5 0 0 0 .707-.708l-5-5a.5.5 0 0 0-.708 0z"}),n.a.createElement("path",{fillRule:"evenodd",d:"M10.937 5.146a.5.5 0 0 1 0 .708l-5 5a.5.5 0 0 1-.708-.708l5-5a.5.5 0 0 1 .707 0z"})),W=n.a.createElement(m.a,{show:R,centered:!0,onHide:function(){I(!1)}},n.a.createElement(m.a.Header,{closeButton:!0},n.a.createElement(m.a.Title,null,"Delete Attack")),n.a.createElement(A.a,null,n.a.createElement("h3",null,"Are you sure you want to delete ",e.attack.attackName,"?"),n.a.createElement("br",null),n.a.createElement(p.a,{className:"justify-content-around"},n.a.createElement("button",{className:"btn btn-outline-dark",onClick:function(t){t.attackId=e.attack.attackId,_.props.handleDeleteAttack(t)}},n.a.createElement("h3",null,"Yes")),n.a.createElement("button",{className:"btn btn-outline-dark",onClick:function(){I(!1)}},n.a.createElement("h3",null,"No"))),n.a.createElement("br",null)));return n.a.createElement(p.a,{className:"attack"},n.a.createElement(h.a,{xs:"4",sm:"3",md:"2",className:"attack-name"},L.attackName),n.a.createElement(h.a,{xs:"2",sm:"5",md:"7",lg:"8"},n.a.createElement(p.a,null,n.a.createElement(h.a,{className:"attack-damage"},null===(t=L.firstAttack)||void 0===t?void 0:t.modifier,"/",null===(a=L.firstAttack)||void 0===a?void 0:a.damage),n.a.createElement(h.a,{className:"attack-damage"},null===(c=L.secondAttack)||void 0===c?void 0:c.modifier,"/",null===(o=L.secondAttack)||void 0===o?void 0:o.damage),n.a.createElement(h.a,{className:"attack-damage"},null===(l=L.thirdAttack)||void 0===l?void 0:l.modifier,"/",null===(s=L.thirdAttack)||void 0===s?void 0:s.damage),n.a.createElement(h.a,{className:"attack-damage"},null===(i=L.fourthAttack)||void 0===i?void 0:i.modifier,"/",null===(d=L.fourthAttack)||void 0===d?void 0:d.damage))),n.a.createElement(h.a,{className:"attack-controls",xs:"6",sm:"4",md:"3",lg:"2",xl:"2"},n.a.createElement(p.a,{className:"ml-auto mr-0 justify-content-between"},n.a.createElement(h.a,{className:"checkbox-container"},n.a.createElement("div",{className:"dummy-checkbox ".concat(L.compare?"dummy-checkbox-checked":""),onClick:function(){e.changeComparison(L.attackId,!L.compare)},ref:T,onMouseEnter:function(){C(!b)},onMouseLeave:function(){C(!b)}},n.a.createElement("span",{className:"checkbox-span"},L.compare?n.a.createElement("span",null,"\u25e2"):""))),n.a.createElement(h.a,null,B),n.a.createElement(h.a,null,F)),W,n.a.createElement(E.a,{show:b,placement:"left",target:T.current},(function(e){return n.a.createElement(v.a,e,"Compare?")})),n.a.createElement(E.a,{show:M,placement:"left",target:P.current},(function(e){return n.a.createElement(v.a,e,"Edit?")})),n.a.createElement(E.a,{show:w,placement:"left",target:U.current},(function(e){return n.a.createElement(v.a,e,"Delete?")}))))}var y=D,w=a(85),j=a(12);function x(e){var t;var a=["black","red","green","blue"],r=null===e||void 0===e||null===(t=e.attacks)||void 0===t?void 0:t.map((function(e,t){var r=a[t%a.length],n=e.characterName,c=e.attackName;return{borderColor:r,backgroundColor:"rgba(0,0,0,0)",label:"".concat(n," - ").concat(c),data:function(e){for(var t=e.characterName,a=e.attackName,r=e.firstAttack,n=e.secondAttack,c=e.thirdAttack,o=e.fourthAttack,l=[],s=0;s<31;s++)l.push(s);return l.map((function(e){for(var l,s,i=0,d=0,_=[r,n,c,o];d<_.length;d++){var m=_[d];i+=((l=m.modifier,s=e,Math.min(Math.max(20-(s-l),0),18))*(m.averageDamageRoll||0)+(m.averageCrit||0))/20}return{characterName:t,attackName:a,expectedDamage:i,AC:e}}))}(e).map((function(e){return Math.round(1e3*e.expectedDamage)/1e3})),lineTension:0}})),c=n.a.createElement(w.a,{data:{labels:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],datasets:r},options:{scales:{yAxes:[{scaleLabel:{display:!0,labelString:"Avg. Proj. Damage",fontFamily:"Alegreya SC",fontSize:"18"}}],xAxes:[{scaleLabel:{display:!0,labelString:"Targeted Armor Class",fontFamily:"Alegreya SC",fontSize:"18"}}]},legend:{labels:{fontFamily:"Alegreya SC"}}}});return n.a.createElement(A.a,{xs:"12"},n.a.createElement("br",null),n.a.createElement("h5",{style:{textAlign:"center"}},"\u2015Attack Comparison Against AC Values\u2015"),c)}var S=function(e){var t=e.characters,a=[];t.forEach((function(e){e.attacks.forEach((function(t){if(!0===t.compare){var r=Object.assign({},{characterName:e.name},t);a.push(r)}}))}));var r=a.map((function(e){return n.a.createElement(p.a,{className:"comp-attack",key:"attack-comparison-".concat(e.attackId)},n.a.createElement(h.a,null,e.characterName,"-",e.attackName),n.a.createElement(h.a,null,e.firstAttack.modifier,"/",e.firstAttack.damage),n.a.createElement(h.a,null,e.secondAttack.modifier,"/",e.secondAttack.damage),n.a.createElement(h.a,null,e.thirdAttack.modifier,"/",e.thirdAttack.damage),n.a.createElement(h.a,null,e.fourthModifier,"/",e.fourthAttack.damage))}));return n.a.createElement(A.a,{className:"comparison"},n.a.createElement("h2",{style:{textAlign:"center"}},"Attack Comparison"),n.a.createElement("h5",{style:{textAlign:"center"}}," \u2015Attacks\u2015 "),r,n.a.createElement(x,{attacks:e.attacks}))};a(193);function R(e){return n.a.createElement(k.a,{className:"titlebar"},n.a.createElement("h2",null,e.children))}var I=function(e){Object(d.a)(a,e);var t=Object(_.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).editCharacter=function(e){var t=r.state.characters.find((function(t){return t.id===e})).name;r.setState({showCharacterModal:!0,charModalName:t,createTrueEditFalse:!1,editId:e})},r.handleCreateCharacter=function(e){e.preventDefault();var t=JSON.parse(JSON.stringify(r.state.characters));t.push({name:r.state.charModalName,attacks:[],id:r.state.nextID}),r.setState({showCharacterModal:!1,charModalName:"",characters:t,createTrueEditFalse:!0,nextID:r.state.nextID+1,editId:null})},r.handleEditCharacter=function(e){e.preventDefault();var t=JSON.parse(JSON.stringify(r.state.characters));t.find((function(e){return e.id===r.state.editId})).name=r.state.charModalName,r.setState({showCharacterModal:!1,charModalName:"",createTrueEditFalse:!0,characters:t,editId:null})},r.handleDeleteCharacter=function(e){var t=JSON.parse(JSON.stringify(r.state.characters));t=t.filter((function(t){return t.id!==e})),r.setState({showCharacterModal:!1,charModalName:"",characters:t,createTrueEditFalse:!0,nextID:r.state.nextID+1,editId:null})},r.handleAddAttack=function(e){e.preventDefault();var t=e.formData,a=t.charId,n=t.attackName,c=t.firstAttackModifier,o=t.firstAttackDamage,l=t.secondAttackModifier,s=t.secondAttackDamage,i=t.thirdAttackModifier,d=t.thirdAttackDamage,_=t.fourthAttackModifier,m=t.fourthAttackDamage,u=JSON.parse(JSON.stringify(r.state.characters)),p=u.find((function(e){return e.id===a})),h=r.state.nextID;p.attacks.push({attackName:n,attackId:h,firstAttack:r.createAttack(c,o),secondAttack:r.createAttack(l,s),thirdAttack:r.createAttack(i,d),fourthAttack:r.createAttack(_,m),compare:!1}),r.setState({characters:u,nextID:r.state.nextID+1})},r.handleEditAttack=function(e){e.preventDefault();var t,a=JSON.parse(JSON.stringify(r.state.characters)),n=Object(l.a)(a);try{for(n.s();!(t=n.n()).done;){var c=t.value;for(var o in c.attacks){if(c.attacks[o].attackId===e.formData.attackId){r.updateAttack(c.attacks[o].firstAttack,e.formData.firstAttackModifier,e.formData.firstAttackDamage),r.updateAttack(c.attacks[o].secondAttack,e.formData.secondAttackModifier,e.formData.secondAttackDamage),r.updateAttack(c.attacks[o].thirdAttack,e.formData.thirdAttackModifier,e.formData.thirdAttackDamage),r.updateAttack(c.attacks[o].fourthAttack,e.formData.fourthAttackModifier,e.formData.fourthAttackDamage),c.attacks[o].attackName=e.formData.attackName;break}}}}catch(s){n.e(s)}finally{n.f()}r.setState({characters:a})},r.handleDeleteAttack=function(e){e.preventDefault();var t,a=JSON.parse(JSON.stringify(r.state.characters)),n=Object(l.a)(a);try{for(n.s();!(t=n.n()).done;){var c=t.value;for(var o in c.attacks)if(c.attacks[o].attackId===e.attackId){c.attacks.splice(o,1);break}}}catch(s){n.e(s)}finally{n.f()}r.setState({characters:a})},r.changeComparison=function(e,t){var a,n=JSON.parse(JSON.stringify(r.state.characters)),c=Object(l.a)(n);try{for(c.s();!(a=c.n()).done;){var o,s=a.value,i=Object(l.a)(s.attacks);try{for(i.s();!(o=i.n()).done;){var d=o.value;d.attackId===e&&(d.compare=t,r.setState({characters:n}))}}catch(_){i.e(_)}finally{i.f()}}}catch(_){c.e(_)}finally{c.f()}},r.createAttack=function(e,t){return{modifier:e,damage:t,averageCrit:Object(j.b)(Object(j.d)(t))||0,averageDamageRoll:Object(j.b)(Object(j.e)(t))||0}},r.updateAttack=function(e,t,a){e.modifier===t&&e.damage===a||(e.averageCrit=Object(j.b)(Object(j.d)(a)),e.averageDamageRoll=Object(j.b)(Object(j.e)(a)),e.modifier=t,e.damage=a)},r.state={showCharacterModal:!1,charModalName:"",characters:[],createTrueEditFalse:!0,editId:null,nextID:1},r}return Object(i.a)(a,[{key:"render",value:function(){var e,t=this,a=this.state.characters.map((function(e){return n.a.createElement(y,{char:e,key:e.id,handleAddAttack:t.handleAddAttack,handleEditAttack:t.handleEditAttack,handleDeleteAttack:t.handleDeleteAttack,changeComparison:t.changeComparison,editCharacter:t.editCharacter,handleDeleteCharacter:t.handleDeleteCharacter})})),r=[],c=Object(l.a)(this.state.characters);try{for(c.s();!(e=c.n()).done;){var o,s=e.value,i=Object(l.a)(s.attacks);try{for(i.s();!(o=i.n()).done;){var d=o.value;if(d.compare){var _=Object.assign({},d,{characterName:s.name});r.push(_)}}}catch(k){i.e(k)}finally{i.f()}}}catch(k){c.e(k)}finally{c.f()}return n.a.createElement("div",{className:"app",id:"app-body"},n.a.createElement(R,null,"D20 Attack Comparison"),n.a.createElement("div",{className:"add-character-button-div text-center"},n.a.createElement("button",{className:"btn btn-outline-dark",onClick:function(e){t.setState({showCharacterModal:!0})}},n.a.createElement("h4",null,"+ Add Character +")),n.a.createElement(m.a,{show:this.state.showCharacterModal,onHide:function(){t.setState({showCharacterModal:!1})}},n.a.createElement(m.a.Header,{closeButton:!0},n.a.createElement(m.a.Title,null,this.state.createTrueEditFalse?"Create a Character":"Edit Character")),n.a.createElement(m.a.Body,null,n.a.createElement(u.a,{className:"text-center",onSubmit:this.state.createTrueEditFalse?this.handleCreateCharacter:this.handleEditCharacter},n.a.createElement(u.a.Group,{controlId:"CharacterName",as:p.a},n.a.createElement(u.a.Label,{column:!0,sm:"4"},"Character Name"),n.a.createElement(h.a,{sm:"6"},n.a.createElement(u.a.Control,{type:"text",name:"CharacterName",required:!0,autoComplete:"off",placeholder:"Character Name",onChange:function(e){t.setState({charModalName:e.target.value})},value:this.state.charModalName}))),n.a.createElement("button",{className:"btn btn-outline-dark",type:"submit"},this.state.createTrueEditFalse?"Create":"Update"))))),a,n.a.createElement(S,{characters:this.state.characters,attacks:r}))}}]),a}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},90:function(e,t,a){e.exports=a(194)},95:function(e,t,a){}},[[90,1,2]]]);
//# sourceMappingURL=main.7362e821.chunk.js.map